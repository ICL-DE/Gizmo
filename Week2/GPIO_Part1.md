# Raspberry Pi GPIO-Part 1

Your Raspberry Pi is more than just a small computer, it is a hardware prototyping tool! The RPi has **bi-directional I/O pins**, which you can use to drive LEDs, spin motors, or read button presses. To drive the RPi's I/O lines requires a bit or programming. You can use a [variety of programing languages](http://elinux.org/RPi_Low-level_peripherals#GPIO_Code_examples), but we decided to use a really solid, easy tools for driving I/O: **Python**.

## Material needed

* Raspberry Pi 3 B
* [Breadboard](https://www.sparkfun.com/products/12002?_ga=1.251311686.1915117394.1476705504)
* [Jumper Wires(M/F)](https://www.sparkfun.com/products/12794)
* [Momentary Pushbutton Switch](https://www.sparkfun.com/products/9190?_ga=1.213562324.1915117394.1476705504)
* [2 Resistors](https://www.sparkfun.com/products/11507?_ga=1.213562324.1915117394.1476705504)
* [2 LEDs](https://www.sparkfun.com/products/9590?_ga=1.213548756.1915117394.1476705504)

##  GPIO Pinout

Raspberry has its GPIO over a standard male header on the board. From the first models to the latest, the header has expanded from 26 pins to 40 pins while maintaining the original pinout.

<img src="rpi_old_new_pin.jpg" alt="rpi" style="width: 400px;"/>

There are (at least) two, different numbering schemes you may encounter when referencing **Pi pin numbers**:

1. **Broadcom chip-specific** pin numbers.
2. **P1 physical** pin numbers.

You can use use either number-system, but when you are programming how to use the pins, it require that you declare which scheme you are using at the very beginning of your program. We will see this later.

The next table shows all 40 pins on the P1 header, including any special function they may have, and their dual numbers:

<img src="header_pinout.jpg" alt="pin" style="width: 400px;"/>

In the next table we show other numbering system  along with the ones we showed above: Pi pin header numbers and element14 given names: wiringPi numbers, Python numbers, and related silkscreen on the wedge. The Broadcom pin numbers in the table are relate to RPi Model 2 and later only.

<img src="Pi_pin_header_numbers.png" alt="pin" style="width: 300px;"/>

This table shows that the RPi not only gives you access to the bi-directional I/O pins, but also [Serial (UART)](https://learn.sparkfun.com/tutorials/serial-communication), [I2C](https://learn.sparkfun.com/tutorials/i2c), [SPI](https://learn.sparkfun.com/tutorials/serial-peripheral-interface-spi), and even some [PWM](https://learn.sparkfun.com/tutorials/pulse-width-modulation) (“analog output”).

### Analog vs. Digital

Before starting with our practise, we will revise the difference between **analog** and **digital** signals. Both are used to transmit information, usually through **electric signals**. In both these technologies, the information, such as any audio or video, is transformed into electric signals. The **difference between analog and digital**:

* In **analog technology**, information is translated into electric pulses of varying amplitude.

* In **digital technology**, translation of information is into binary format (zero or one) where each bit is representative of two distinct amplitudes.

<img src="analog_digital.png" alt="pin" style="width: 300px;"/>

#### Comparison chart

||Analog	|Digital|
|:------|:-------|:-------|
|**Signal**| Analog signal is a continuous signal which represents physical measurements.|	Digital signals are discrete time signals generated by digital modulation.|
|**Waves**|	Denoted by sine waves.|	Denoted by square waves.|
|**Representation**| Uses continuous range of values to represent information.|	Uses discrete or discontinuous values to represent information.|
|**Example**|	Human voice in air, analog electronic devices.|	Computers, CDs, DVDs, and other digital electronic devices.|
|**Technology**| Analog technology records waveforms as they are.|	Samples analog waveforms into a limited set of numbers and records them.|
|**Data transmissions**|Subjected to deterioration by noise during transmission and write/read cycle.|Can be noise-immune without deterioration during transmission and write/read cycle.|
|**Response to Noise**|	More likely to get affected reducing accuracy|	Less affected since noise response are analog in nature|
|**Flexibility**|	Analog hardware is not flexible.|Digital hardware is flexible in implementation.|
|**Uses**|Can be used in analog devices only. Best suited for audio and video transmission.|	Best suited for Computing and digital electronics.|
|**Applications**|Thermometer|PCs, PDAs|
|**Bandwidth**|	Analog signal processing can be done in real time and consumes less bandwidth.|	There is no guarantee that digital signal processing can be done in real time and consumes more bandwidth to carry out the same information.|
|**Memory**| Stored in the form of wave signal.|Stored in the form of binary bit.|
|**Power**|	Analog instrument draws large power.|	Digital instrument drawS only negligible power.|
|**Cost**|Low cost and portable.|	Cost is high and not easily portable.|
|**Impedance**|	Low	|High order of 100 megaohm|
|**Errors**|Analog instruments usually have a scale which is cramped at lower end and give considerable observational errors.|	Digital instruments are free from observational errors like parallax and approximation errors.|

## Hardware Setup

We start assembling the circuit as show in the diagram bellow. We will use two LEDs to test the output functionality (digital and PWM-Pulse-width Modulation), and a button to test the input.

<img src="pracise_1.png" alt="pinboard" style="width: 400px;"/>

In the next table you will see which RPi's pins we are suing:

##### Leds

| Broadcom chip-specific numbers| P1 Pin Number|
|:----------|:----------|
|GPIO 18|12|
|GPIO 23|16|

##### Button

| Broadcom chip-specific numbers| P1 Pin Number|
|:----------|:----------|
|GPIO 17|11|

##### Ground
| Broadcom chip-specific numbers| P1 Pin Number|
|:----------|:----------|
|Ground|6|


## Python (RPi.GPIO) API Example

We will use the **RPi.GPIO module** as the driving force behind our Python examples. These Python files and source is included with Raspbian, so assuming you are running the latest Linux distribution, you do not need to download anything to get started. Let's see an example:

1. From your terminal in your laptop connect to your RPi.
2. Create a folder call "code", then a file call "blinker.py":

```bash
$ mkdir code
$ cd code
$ touch blinker.py
```
3. Then we open it with our text editor:

```bash
$ nano blinker.py
```

4. Then, copy the next code in your text editor. This code assumes we have set up he circuit as we arranged above.

```python
#!/usr/bin/env python


# External module imports GPIO
import RPi.GPIO as GPIO
# Library to slow or give a rest to the script
import time


# Pin definiton using Broadcom scheme
# PWM (“Analog”)
pwmPin = 18 # Broadcom pin 18 (P1 pin 12)
# Led
ledPin = 23 # Broadcom pin 23 (P1 pin 16)
# Button
butPin = 17 # Broadcom pin 17 (P1 pin 11)

dc = 95 # duty cycle (0 i.e 0%/LOW and 100 ie.e 100%/HIGH) for PWM pin


# Pin Setup:
GPIO.setmode(GPIO.BCM) # Broadcom pin-numbering scheme
GPIO.setup(ledPin, GPIO.OUT) # LED pin set as output
GPIO.setup(pwmPin, GPIO.OUT) # PWM pin set as output
# PWM (“Analog”) Output
pwm = GPIO.PWM(pwmPin, 50)  # Initialize PWM on pwmPin 100Hz frequency
GPIO.setup(butPin, GPIO.IN, pull_up_down=GPIO.PUD_UP) # Button pin set as input w/ pull-up resistors


# Initial state for LEDs:
GPIO.output(ledPin, GPIO.LOW)
# This function set an initial value of the frequency
pwm.start(dc)


print("Here we go! Press CTRL+C to exit")
try:
    while 1:
        # The input() function will return either a True or False indicating whether the pin is HIGH or LOW.
        if GPIO.input(butPin): # button is released
            pwm.ChangeDutyCycle(dc) # Adjust the value of the PWM output
            GPIO.output(ledPin, GPIO.LOW)
        else: # button is pressed:
            pwm.ChangeDutyCycle(100-dc)
            GPIO.output(ledPin, GPIO.HIGH)
            # Delay of 75 milliseconds
            time.sleep(0.075)
            GPIO.output(ledPin, GPIO.LOW)
            # Delay of 75 milliseconds
            time.sleep(0.075)
except KeyboardInterrupt: # If CTRL+C is pressed, exit cleanly:
    pwm.stop() # stop PWM
    GPIO.cleanup() # cleanup all GPIO
```

5. Running the script needs administrator privileges because the RPi.GPIO module requires it. So we run the following commands:

To make the script an executable:

```bash
$ sudo chmod u+x blinker.py
$ ./blinker.py
```
With the code running, press the button to turn on the digital LED. The PWM-ing LED will invert its brightness when you press the button as well.

## Python (RPi.GPIO) API: Overview of the basic function calls used in our example.





## Suggested readings

* [Pulse-Width Modulation](https://learn.sparkfun.com/tutorials/pulse-width-modulation) – You can use PWM to dim LEDs or send signals to servo motors. The RPi has a single PWM-capable pin.
* [Light-Emitting Diodes (LEDs)](https://learn.sparkfun.com/tutorials/light-emitting-diodes-leds) – To test the output capabilities of the Pi we will use some Leds.
* [Switch Basics](https://learn.sparkfun.com/tutorials/switch-basics) – To test inputs to the Pi, we will use buttons and switches.
* [Pull-Up Resistors](https://learn.sparkfun.com/tutorials/pull-up-resistors) – The Pi has internal pull-up (and pull-down) resistors. These are very handy when you are interfacing buttons with the little computer.


**References**[[1](http://www.diffen.com/difference/Analog_vs_Digital), [2](https://learn.sparkfun.com/tutorials/raspberry-gpio)]
